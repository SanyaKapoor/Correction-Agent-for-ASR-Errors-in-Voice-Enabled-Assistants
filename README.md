# ASR Correction Agent

This project focuses on developing an agent that improves the accuracy of text transcriptions generated by automatic speech recognition (ASR) systems, which often produce errors in recognizing spoken commands. These errors can stem from two primary sources:

1. **Similar-sounding characters:** Characters that sound alike may be misinterpreted. For example, "The boy is eating" might be misrecognized as "The eoy is eating," confusing 'b' with 'e'.
2. **Missing words at the beginning or end of sentences:** Words might be omitted due to softer speech at sentence boundaries, e.g., "I am going to the store" might be transcribed as "am going to the store."

In this assignment, we were tasked with developing an agent to address these issues by analyzing and correcting the output of ASR systems.

## Problem Overview

The agent is responsible for correcting ASR-generated text that contains potential errors, either in the form of incorrect character recognition or missing words. The input consists of:

- A string of words in **all capital letters**, separated by spaces, which may contain errors.
- A **phoneme table** that maps characters to possible incorrect recognitions.
- A **vocabulary list** that contains words that might have been missed at the start or end of the sentence.

### Phoneme Table Example:
```json
{
  "K": ["G", "C"],
  "S": ["Z", "SH"],
  "KN": ["N"]
}
```

# Vocabulary Example:
["RETURN'D", "DOCTORS", "INFANTRY", "DELIRIUM", "KILLED"]

## Search-Based Correction
To resolve the errors, a search-based algorithm was implemented. The algorithm explores possible corrections and selects the one with the lowest coherence score, as measured by a provided cost function. The cost function evaluates how well the corrected text aligns with the original spoken audio.

## Cost Function
The cost function is built using the OpenAI Whisper model, which computes a negative log likelihood score for any given text based on the audio input. The lower the score, the more accurate the transcription. The task was to minimize this score by finding the best possible correction for the ASR output.

## Implementation Details
The implementation of the correction agent followed these steps:

1. **Initialization**: The agent is initialized with the phoneme table and vocabulary, which serve as the primary resources for identifying possible corrections.
2. **Search Algorithm**: A search-based method was employed to explore different correction options. The algorithm considered character substitutions and potential word insertions from the vocabulary.
3. **Cost Evaluation**: The provided cost function was used to evaluate the coherence of each corrected sentence. The agent continuously updated the best correction found so far.
4. **Efficient Execution**: The implementation was optimized to handle sentences up to 100 characters within a time limit of 120 seconds.

## Code Structure
The project follows the structure outlined below:

```bash
ASR_Correction_Agent
├── data
│   ├── phoneme_table.json  # Contains potential character recognition errors.
│   ├── vocabulary.json  # List of possible missing words at sentence boundaries.
│   ├── data.pkl  # Sample data with audio, incorrect text, and corrected text.
├── driver.py  # Code for running the agent.
├── environment.yml  # Conda environment configuration file.
└── solution.py  # Main file containing the agent implementation.
```
The solution.py file contains the following key components:

Agent Class: The class where the correction logic is implemented. It has two important methods:
__init__: Initializes the agent with the phoneme table and vocabulary.
asr_corrector: The main function that corrects the ASR output by exploring possible corrections and updating the best solution found.
The driver.py script can be used to test the agent with the provided data. It runs the agent for each string in the data file and outputs the results.
```bash
python driver.py --output_file=output.json
```
The ASR correction agent was developed to address errors commonly encountered in ASR systems. By leveraging a search-based method and a cost function, the agent successfully corrected misrecognized characters and missing words, improving the overall accuracy of the transcribed text.
